{% load static %}
<!-- Authenticate modal -->
<div class="modal fade" tabindex="-1" role="dialog" id="authenticate">
    <div class="modal-dialog modal-lg" role="document">
        <div
            class="modal-content row row-cols-1 row-cols-lg-2 flex-row g-0 overflow-hidden"
        >
            <!-- تصویر سمت راست -->
            <div class="col order-lg-2">
                <div
                    class="position-relative d-flex align-items-end h-100 pt-4 px-4 px-sm-5 px-lg-0"
                >
                    <button
                        type="button"
                        class="btn-close position-absolute top-0 end-0 z-2 mt-3 me-3"
                        data-bs-dismiss="modal"
                        aria-label="بستن"
                    ></button>
                    <div
                        class="ratio position-relative z-1"
                        style="--cz-aspect-ratio: calc(1030 / 1032 * 100%)"
                    >
                        <img
                            src="{% static 'img/account/cover.png' %}"
                            alt="عکس پنجره ورود به اکانت یا ثبت نام در سایت استانبول وار"
                        />
                    </div>
                    <span
                        class="position-absolute top-0 start-0 w-100 h-100 d-none-dark"
                        style="
                            background: linear-gradient(
                                -90deg,
                                #accbee 0%,
                                #e7f0fd 100%
                            );
                        "
                    ></span>
                    <span
                        class="position-absolute top-0 start-0 w-100 h-100 d-none d-block-dark"
                        style="
                            background: linear-gradient(
                                -90deg,
                                #1b273a 0%,
                                #1f2632 100%
                            );
                        "
                    ></span>
                </div>
            </div>

            <!-- فرم سمت چپ -->
            <div
                class="col d-flex flex-column order-lg-1"
                id="authenticateContent"
            >
                <div class="modal-header d-block border-0 pt-sm-5 px-sm-5 pb-2">
                    <h2 class="h5 mb-0" id="stepTitle">
                        لطفاً شماره تلفن خود را وارد کنید :
                    </h2>
                </div>
                <div class="modal-body px-sm-5 pb-sm-5">
                    <form
                        id="authForm"
                        method="post"
                        action="{% url 'login' %}"
                    >
                        {% csrf_token %}
                        <input
                            type="hidden"
                            name="next"
                            value="{{ request.get_full_path }}"
                        />

                        <!-- مرحله 1: شماره تلفن -->
                        <div id="phoneGroup">
                            <div class="position-relative mb-4">
                                <input
                                    type="text"
                                    class="form-control phone-mask"
                                    id="phone_number"
                                    name="phone_number"
                                    placeholder="09__ - ___ - ____"
                                    maxlength="11"
                                    style="direction: ltr; text-align: left"
                                    required
                                />
                            </div>
                        </div>

                        <!-- مرحله 2: کد (مخفی تا بعد از ارسال شماره) -->
                        <div id="codeGroup" class="d-none">
                            <div class="position-relative mb-4">
                                <input
                                    type="text"
                                    class="form-control"
                                    id="verify_code"
                                    name="code"
                                    placeholder="کد پیامک شده"
                                    maxlength="5"
                                    style="direction: ltr; text-align: left"
                                    required
                                />
                            </div>
                        </div>

                        <button
                            type="submit"
                            class="btn btn-primary w-100"
                            id="submitButton"
                        >
                            ارسال کد
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
